<section class="_testimonials" id="testimonials">
  <div class="_inside">
    <div class="_flex">
      <div class="_head">
        <div class="_content">
          <div class="_container full-1">
            <div class="media-head">
              <figure class="face-i">
                <img src="{{ section.settings.face_image | img_url: '400x' }}">
              </figure>
              <figure class="_message">
                <img src="https://cdn.shopify.com/s/files/1/0673/3607/7485/files/message_testimonials.svg?v=1743699585">
              </figure>
            </div>
            <div class="info-head">
              <div class="title-2">
                <h1>{{ section.settings.heading }}</h1>
              </div>
              <div class="text-1">
                <p>{{ section.settings.paragraph_1 }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="_body">
        <div class="_content">
          <div class="splide splide-testimonials">
            <div class="splide__arrows">
              <button class="splide__arrow splide__arrow--prev" type="button" aria-controls="splide01-track" aria-label="Previous slide">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <mask id="mask0_5768_7274" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                    <rect width="15.2591" height="15.2591" transform="matrix(-1 0 0 1 15.969 0.444336)" fill="#D9D9D9"/>
                  </mask>
                  <g mask="url(#mask0_5768_7274)">
                    <path d="M7.27451 8.07419L11.6933 3.6554C11.9158 3.43287 12.0271 3.16265 12.0271 2.84475C12.0271 2.52685 11.9158 2.25664 11.6933 2.03411C11.4708 1.81158 11.1979 1.70032 10.8747 1.70032C10.5515 1.70032 10.2787 1.81158 10.0561 2.03411L5.4148 6.65954C5.21347 6.86088 5.06511 7.08341 4.96975 7.32713C4.87438 7.57085 4.82669 7.81987 4.82669 8.07419C4.82669 8.32851 4.87438 8.57753 4.96975 8.82125C5.06511 9.06498 5.21347 9.2875 5.4148 9.48884L10.0561 14.1302C10.2787 14.3527 10.5489 14.4613 10.8668 14.456C11.1847 14.4507 11.4549 14.3368 11.6774 14.1143C11.8999 13.8917 12.0112 13.6189 12.0112 13.2957C12.0112 12.9725 11.8999 12.6996 11.6774 12.4771L7.27451 8.07419Z" fill="#0C451B"/>
                  </g>
                </svg>
              </button>
              <button class="splide__arrow splide__arrow--next" type="button" aria-controls="splide01-track" aria-label="Next slide">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <mask id="mask0_5768_7282" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16">
                    <rect width="15.2591" height="15.2591" transform="matrix(-1 0 0 1 15.969 0.444336)" fill="#D9D9D9"/>
                  </mask>
                  <g mask="url(#mask0_5768_7282)">
                    <path d="M9.57925 8.0823L5.16045 12.5011C4.93793 12.7236 4.82666 12.9938 4.82666 13.3117C4.82666 13.6296 4.93792 13.8999 5.16045 14.1224C5.38298 14.3449 5.65585 14.4562 5.97904 14.4562C6.30224 14.4562 6.5751 14.3449 6.79763 14.1224L11.439 9.49696C11.6403 9.29562 11.7886 9.07309 11.884 8.82937C11.9794 8.58564 12.0271 8.33662 12.0271 8.0823C12.0271 7.82799 11.9794 7.57897 11.884 7.33524C11.7886 7.09152 11.6403 6.86899 11.439 6.66765L6.79764 2.02633C6.57511 1.8038 6.30489 1.69518 5.98699 1.70048C5.66909 1.70578 5.39888 1.8197 5.17635 2.04222C4.95382 2.26475 4.84256 2.53762 4.84256 2.86081C4.84256 3.18401 4.95382 3.45687 5.17635 3.6794L9.57925 8.0823Z" fill="#0C451B"/>
                  </g>
                </svg>
              </button>
            </div>
            <div class="splide__track">
              <div class="splide__list">
                {% for block in section.blocks %}
                  <li class="splide__slide" style="background-color: {{ block.settings.bg_color }}; color: {{ block.settings.text_color }};">
                    <div class="in-splide">
                      <figure class="_face">
                        <img src="{{ block.settings.face | img_url: '300x' }}">
                      </figure>
                      <div class="_info">
                        <div class="_stars">
                          <img src="{{ block.settings.stars | img_url: '200x' }}">
                        </div>
                        <h5 class="title-5 _uppercase">{{ block.settings.name }}</h5>
                        <p class="text-2 _rgl">{{ block.settings.testimonial }}</p>
                      </div>
                    </div>
                  </li>
                {% endfor %}
              </div>
            </div>
          </div>
          <script>
            document.addEventListener('DOMContentLoaded', function () {
              new Splide('.splide-testimonials', {
                type: 'loop',
                gap: '1vw',
                perPage: 2,
                perMove: 1,
                arrows: true,
                pagination: false,
                padding: {left: "0", right: "20%"},
                breakpoints: {
                  991: {
                    gap: '5vw',
                    perPage: 2,
                    focus: 'center',
                    pagination: true,
                    padding: {left: "5%", right: "5%"},
                  },
                  767: {
                    gap: '5vw',
                    perPage: 1,
                    focus: 'center',
                    pagination: true,
                    padding: {left: "20%", right: "20%"},
                  }
                }
              }).mount();
            });
          </script>

        </div>
      </div>

    </div>
  </div>
</section>



{% schema %}
  {
    "name": "Testimonials",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Crazy satisfying beans."
      },
      {
        "type": "textarea",
        "id": "paragraph_1",
        "label": "Paragraph",
        "default": "You should eat more beans. You know this. We know this."
      },
      {
        "type": "image_picker",
        "id": "face_image",
        "label": "Header Face Image"
      }
    ],
    "blocks": [
      {
        "type": "testimonial",
        "name": "Testimonial",
        "settings": [
          {
            "type": "image_picker",
            "id": "face",
            "label": "Face image"
          },
          {
            "type": "image_picker",
            "id": "stars",
            "label": "Stars image"
          },
          {
            "type": "text",
            "id": "name",
            "label": "Name",
            "default": "Emily R."
          },
          {
            "type": "textarea",
            "id": "testimonial",
            "label": "Testimonial text",
            "default": "This is an amazing product!"
          },
          {
            "type": "color",
            "id": "bg_color",
            "label": "Background Color",
            "default": "#ffffff"
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "Text Color",
            "default": "#ffffff"
          }
        ]
      }
    ],
    "max_blocks": 8,
    "presets": [
      {
        "name": "Home IV Testimonials",
        "category": "Custom",
        "blocks": [
          {
            "type": "testimonial"
          },
          {
            "type": "testimonial"
          },
          {
            "type": "testimonial"
          }
        ]
      }
    ]
  }
{% endschema %}
